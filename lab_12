import numpy as np
import random
import math
from decimal import Decimal


def alternating_sign(n):  # Функция для чередования
    return (-1) ** n


def compute_series_sum(X, t):
    result = 0.0
    n = 0
    term = 1.0
    while round(term, t) != 0:
        n += 1
        term = np.abs(X**(2*n-1)) / math.factorial(2*n-1)
        result += alternating_sign(n) * term

    return round(result, t)


k = random.randint(0, 100)  # Ранг матрицы X0
X0 = np.random.rand(k, k)  # Случайная матрица X0
print("Исходна матрица: ")
print(X0)
X = np.linalg.det(X0)  # Определитель матрицы X0

print("Определитель матрицы - X = ", X)
# Точность вычислений
t = int(input("Введите количество знаков после запятой "))
result = compute_series_sum(X, t)
print("Сумма знакопеременного ряда:", result)
